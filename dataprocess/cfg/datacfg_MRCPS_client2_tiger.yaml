# SemiSegPathology_test SemiSegPathology
project: 'HistSeg'
expname: ''

expset: {
  labelWSI: 5,
  totalWSI: 75,
  fold: 1,
  #fversion: None,
  epochs: 20,
  exp_seed: 42,
  env_seed: 42,
  model_seed: 42,
  precision: 16,
  lrratio: 8,
  }

rootset: {
  #--Data path--
  #Tiger dataset
  dataroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/',
  tifroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/wsirois/wsi-level-annotations/images',
  # maskroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/wsirois/wsi-level-annotations/MRCPS_masks',
  maskroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/wsirois/wsi-level-annotations/masks_refine',

  #--pkl--
  #Tiger dataset
  pklroot_train: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_tigerRefine_p512_s128_train_labeled',
  # pklroot_train: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_p512_s128_train_labeled',
  pklroot_train_unlabel: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_p512_s512_train_unlabeled',
  pklroot_test: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_p512_s128_train_labeled',

  #--datalist--
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_double.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_double_choose.json',
  datalist: './used_models/MRCPS/dataset/fold_tiger_client2_double_choose2.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_double_choose2_unlabel.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_double_choose2_labelonly.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_double_shuffle.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client1_double.json', #for test
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_unlabel2label.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_evaluation.json',

  # datalist: './used_models/MRCPS/dataset/fold_camelyon_client2.json',
  # datalist: './used_models/MRCPS/dataset/fold_camelyon_client2_evaluation.json',
  
  fl: True
}

# SSL setting
# type: sup, mix, cps, cpsmix, cpseval, cpsevalmix
# cuttype: cut, cow
# isevalloss: True, False
sslset: {
  type: 'mrcpsmix',
  consistencyratio: 1.0,
}

classes: ["tissue", "tumor"]


traindl: {
  patchsize: 512,
  stridesize: 384,
  tifpage: 0,
  batchsize:  20,
  accumulate_grad_batches: 1
}

testdl: {
  patchsize: 512,
  stridesize: 384,
  tifpage: 0,
  batchsize: 20,
}

