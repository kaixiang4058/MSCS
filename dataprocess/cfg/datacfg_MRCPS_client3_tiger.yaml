# SemiSegPathology_test SemiSegPathology
project: 'HistSeg'
expname: ''

expset: {
  exp_seed: 42,
  env_seed: 42,
  model_seed: 42,
  lrratio: 8,
  precision: 16,
  }

rootset: {
  #--Data path--
  #Tiger dataset
  dataroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/',
  tifroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/wsirois/wsi-level-annotations/images',
  # maskroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/wsirois/wsi-level-annotations/MRCPS_masks',
  maskroot: '/work/u2676425/dataset/tiger_dataset/tiger-training/wsirois/wsi-level-annotations/masks_refine',

  #--pkl--
  #Tiger dataset
  pklroot_train: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_tigerRefine_p512_s128_train_labeled',
  # pklroot_train: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_p512_s128_train_labeled',
  pklroot_train_unlabel: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_p512_s512_train_unlabeled',
  pklroot_test: '/work/u2676425/dataset/tiger_dataset/tiger-training/MRCPS_p512_s128_train_labeled',

  #--datalist--
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client3.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client3_double.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client3_double_choose.json',
  datalist: './used_models/MRCPS/dataset/fold_tiger_client3_double_choose2.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client3_double_choose2_unlabel.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client3_double_choose2_labelonly.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client3_double_shuffle.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client1_test.json', #for test
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client2_sameboth.json',
  # datalist: './used_models/MRCPS/dataset/fold_tiger_client3_evaluation.json',

  # datalist: './used_models/MRCPS/dataset/fold_camelyon_client3.json',
  # datalist: './used_models/MRCPS/dataset/fold_camelyon_client3_evaluation.json',

  fl: True
}

# SSL setting
# type: sup, mix, cps, cpsmix, cpseval, cpsevalmix
# cuttype: cut, cow
# isevalloss: True, False

classes: ["tissue", "tumor"]


traindl: {
  patchsize: 512,
  stridesize: 384,
  tifpage: 0,
  batchsize:  20,
  accumulate_grad_batches: 1
}

testdl: {
  patchsize: 512,
  stridesize: 384,
  tifpage: 0,
  batchsize: 20,
}

# used_datanum: {
#   train_datanum_limit: {
#       'white_background': 0,
#       'tissue_background': -1,
#       'whole_frontground': -1,                #label
#       'partial_frontground': -1,              #label
#       'partial_tissue': -1,
#       'partial_tissue_wtarget': 0                #label
#   },

#   train_unlabel_datanum_limit: {
#       'white_background': 0,
#       'tissue_background': 100000,
#       'whole_frontground': 100000,                #label
#       'partial_frontground': 100000,              #label
#       'partial_tissue': 100000,
#       'partial_tissue_wtarget': 0                #label
#   },

#   test_datanum_limit: {
#       'white_background': 0,
#       'tissue_background': -1,
#       'whole_frontground': -1,                #label
#       'partial_frontground': -1,              #label
#       'partial_tissue': -1,
#       'partial_tissue_wtarget': 0                #label
#   }
# }
